{%- comment -%}
The first section creates an array of page urls that are page urls of this collection. They then are compared to all page urls in the list below. Use group in the frontmatter to group pages.
{%- endcomment -%}
{%- assign col = site.collections | where: "label", page.collection | first -%}
{%- unless site.published == true -%}
<section class="default-grid info" tabindex="0">
  <p class="inner">{% if site.warning_icon %}{% include_cached icon.html name="info" %} {% endif %}{% if site.warning_message %}{{site.warning_message}}{% else %}This is an unpublished draft preview that might include content that is not yet approved. The published website is at <a href="https://www.w3.org/WAI/">w3.org/WAI/</a>.{% endif %}
  </p>
</section>
{%- endunless -%}
<nav aria-label="Skip Link and Accessibility Options" id="controls" class="default-grid">
  <ul>
    <li><a href="#main">Skip to Content</a></li>
    <li><a href="{{ "/meta/customize/" | relative_url }}">Change Text Size or Colors</a></li>
  </ul>
</nav>
<header id="site-header" class="default-grid with-gap">
  <div class="logos">
    <a class="home w3c" href="{{ "https://www.w3.org/" | relative_url }}">
      <svg role="img" aria-label="W3C" viewBox="0 0 68 34" xmlns="http://www.w3.org/2000/svg"><g><path d="m16.117 1.006 5.759 19.58 5.759-19.58h4.17 11.444v1.946l-5.879 10.128c2.065.663 3.627 1.868 4.686 3.615 1.059 1.748 1.589 3.799 1.589 6.155 0 2.914-.775 5.363-2.324 7.348s-3.555 2.978-6.017 2.978c-1.854 0-3.469-.589-4.845-1.767-1.377-1.178-2.396-2.773-3.058-4.786l3.256-1.35c.477 1.218 1.106 2.178 1.887 2.879.781.702 1.701 1.052 2.76 1.052 1.112 0 2.052-.622 2.82-1.866.768-1.245 1.152-2.74 1.152-4.489 0-1.933-.411-3.429-1.231-4.488-.954-1.244-2.45-1.867-4.489-1.867h-1.588v-1.906l5.56-9.612h-6.712l-.382.65-8.163 27.548h-.397l-5.958-19.937-5.957 19.937h-.397l-9.53-32.168h4.17l5.759 19.58 3.892-13.185-1.906-6.395z"/><path d="m64.92 1.006c-.819 0-1.554.295-2.111.861-.591.6-.92 1.376-.92 2.178s.313 1.545.887 2.128c.583.591 1.334.912 2.145.912.793 0 1.562-.321 2.161-.903.574-.557.887-1.3.887-2.136 0-.811-.321-1.57-.878-2.136-.584-.592-1.344-.904-2.171-.904zm2.643 3.065c0 .701-.271 1.351-.768 1.832-.524.507-1.174.777-1.892.777-.675 0-1.342-.278-1.84-.785s-.777-1.157-.777-1.849.287-1.368.802-1.891c.481-.49 1.131-.751 1.84-.751.726 0 1.376.271 1.883.785.49.489.752 1.147.752 1.882zm-2.559-1.807h-1.3v3.445h.65v-1.469h.642l.701 1.469h.726l-.769-1.57c.498-.102.785-.439.785-.929 0-.625-.472-.946-1.435-.946zm-.118.422c.608 0 .886.169.886.591 0 .405-.278.549-.87.549h-.549v-1.14z"/><path d="m59.807.825.676 4.107-2.391 4.575s-.918-1.941-2.443-3.015c-1.285-.905-2.122-1.102-3.431-.832-1.681.347-3.587 2.357-4.419 4.835-.995 2.965-1.005 4.4-1.04 5.718-.056 2.113.277 3.362.277 3.362s-1.452-2.686-1.438-6.62c.009-2.808.451-5.354 1.75-7.867 1.143-2.209 2.842-3.535 4.35-3.691 1.559-.161 2.791.59 3.743 1.403 1 .854 2.01 2.721 2.01 2.721z"/><path d="m60.102 24.063s-1.057 1.889-1.715 2.617c-.659.728-1.837 2.01-3.292 2.651s-2.218.762-3.656.624c-1.437-.138-2.772-.97-3.24-1.317s-1.664-1.369-2.34-2.322-1.733-2.859-1.733-2.859.589 1.91.958 2.721c.212.467.864 1.894 1.789 3.136.863 1.159 2.539 3.154 5.086 3.604 2.547.451 4.297-.693 4.73-.97s1.346-1.042 1.924-1.66c.603-.645 1.174-1.468 1.49-1.962.231-.36.607-1.092.607-1.092z"/></g></svg>
    </a>
    <a class="home" href="{{ "/" | relative_url }}">
      <span class="wai"><span class="wa">Web&nbsp;Accessibility</span> <span class="i"><span class="initieative">Initiative</span> <span>WAI</span></span></span>
    </a>
    <div class="claim">
      <span>Strategies, standards, resources to make the Web accessible to people with disabilities</span>
    </div>
    <button class="button button-menu" aria-haspopup="true" aria-expanded="false" id="openmenu"><span>{% include_cached icon.html name="menu" %} Menu</span></button>
  </div>

  <div class="navigations">
  <nav class="metanav" aria-label="Meta &amp; Search">
    <ul>
      <li><a href="{{ "/about/participating/" | relative_url }}">Get Involved</a></li>
      <li><a href="{{ "/about/" | relative_url }}">About W3C WAI</a></li>
      <li>
        <form action="{{ "/search/" | relative_url }}" role="search">
          <div>
            <label for="header-search">
              <span class="visuallyhidden">Search:</span>
              <input id="header-search" type="search" name="q" placeholder="Search" aria-label="search">
            </label>
            <button class="button button-icon button-nobg button-noborder"><span>{% include_cached icon.html name="search" label="Submit Search" %}</span></button>
          </div>
        </form>
      </li>
    </ul>
  </nav>
</div>
</header>
{%- if page.parent == '/' -%}{%- assign parent_is_home = true -%}{% endif %}
{%- if col.parent == '/' -%}{%- assign parent_is_home = true -%}{% endif %}
{%- if col.parent == '/news/' -%}{%- assign parent_is_home = true -%}{% endif %}
{%- if parent_is_home -%}
{%- assign a_name = "" -%}
{%- assign a_url  = "" -%}
{%- assign b_name = "" -%}
{%- assign b_url  = "" -%}
{%- assign c_name = "" -%}
{%- assign c_url  = "" -%}
{%- assign d_name = "" -%}
{%- assign d_url  = "" -%}
{% else %}
{%- if col.parent -%}
  {%- assign searchurl = col.parent -%}
{%- else -%}
  {%- if page.parent == "/" -%}
    {%- assign searchurl = page.parent -%}
  {%- else -%}
    {%- if (page.ref and page.lang) -%}
    {%- if page.lang != "en" -%}
      {%- if col.docs -%}
        {% assign enpage=col.docs | where:"ref", page.ref | where: "lang", "en" | first %}
      {%- else -%}
        {% assign enpage=site.pages | where:"ref", page.ref | where: "lang", "en" | first %}
      {%- endif -%}
      {%- assign searchurl = enpage.url -%}
    {%- else -%}
      {%- assign searchurl = page.url -%}
    {%- endif -%}
  {%- else -%}
    {%- assign searchurl = page.url -%}
  {%- endif -%}
  {%- endif -%}
{%- endif -%}
{%- assign search = true -%}
{%- for n in site.data.navigation -%}
  {%- if search == true -%}
    {%- assign b_name = "" -%}
    {%- assign b_url  = "" -%}
    {%- assign c_name = "" -%}
    {%- assign c_url  = "" -%}
    {%- assign d_name = "" -%}
    {%- assign d_url  = "" -%}
    {%- assign a_name = n.name -%}
    {%- assign a_url  = n.pages[0].url -%}
    {%- if a_url == searchurl %}{% assign search = false %}{% endif -%}
    {%- if search == true -%}
      {%- for n1 in n.pages -%}
        {%- if search == true -%}
          {%- assign c_name = "" -%}
          {%- assign c_url  = "" -%}
          {%- assign d_name = "" -%}
          {%- assign d_url  = "" -%}
          {%- assign b_name = n1.name -%}
          {%- assign b_url  = n1.url -%}
          {%- if b_url == searchurl %}{% assign search = false %}{% endif -%}
          {%- if search == true -%}
            {%- for n2 in n1.pages -%}
              {%- if search == true -%}
                {%- assign d_name = "" -%}
                {%- assign d_url  = "" -%}
                {%- assign c_name = n2.name -%}
                {%- assign c_url  = n2.url -%}
                {%- if c_url == searchurl %}{% assign search = false %}{% endif -%}
                {%- if search == true -%}
                  {%- for n3 in n2.pages -%}
                    {%- if search == true -%}
                      {%- assign d_name = n3.name -%}
                      {%- assign d_url  = n3.url -%}
                      {%- if d_url == searchurl %}{% assign search = false %}{% endif -%}
                    {%- endif -%}
                  {%- endfor -%}
                {%- endif -%}
              {%- endif -%}
            {%- endfor -%}
          {%- endif -%}
        {%- endif -%}
      {%- endfor -%}
    {%- endif -%}
  {%- endif -%}
{%- endfor -%}
{%- endif -%}

<nav class="mainnav" aria-label="Main">
  {%- if page.url == "/" %}{% assign a_url = "" %}{% endif -%}
  {%- include navlist.html data=site.data.navigation current=a_url -%}
</nav>

{%- unless page.url == "/" -%}
<div class="default-grid breadcrumb">
<nav style="grid-column: 2/8; display: flex;" class="" aria-label="Breadcrumb">
  <ul style="align-self: center;">
    <li><a href="{{ "/" | relative_url }}">Home</a></li>
    {%- unless a_name == "" -%}<li><a href="{{ a_url | relative_url }}"{% if a_url == page.url%} aria-current="page"{%endif%}>{{a_name}}</a></li>{%- endunless -%}
    {%- unless b_name == "" -%}<li><a href="{{ b_url | relative_url }}"{% if b_url == page.url%} aria-current="page"{%endif%}>{{b_name}}</a></li>{%- endunless -%}
    {%- unless c_name == "" -%}<li><a href="{{ c_url | relative_url }}"{% if c_url == page.url%} aria-current="page"{%endif%}>{{c_name}}</a></li>{%- endunless -%}
    {%- unless d_name == "" -%}<li><a href="{{ d_url | relative_url }}"{% if d_url == page.url%} aria-current="page"{%endif%}>{{d_name}}</a></li>{%- endunless -%}
    {%- if col.parent == '/news/' -%}<li><a href="{{ '/news/' | relative_url }}">News</a></li>{%- endif -%}
    {%- if page.parent == "/"-%}<li><a href="{{ page.url | relative_url }}" aria-current="page">{{page.title}}</a></li>{%- endif -%}
    {%- if col.parent -%}
    {%- capture page_url_without_index_html %}{{ page.url | remove: "/index.html" }}{% endcapture -%}
    {%- assign splitted_url_parts = page_url_without_index_html | split: '/' -%}
    {%- capture forLoopMaxInt %}{{ splitted_url_parts.size | minus:1 }}{% endcapture -%}
    {%- for i in (1..forLoopMaxInt) -%}
        {%- capture current_breadcrumb_url %}{{next_prepender}}/{{ splitted_url_parts[i] }}/{% endcapture -%}
        {%- capture current_breadcrumb_md_url %}{{next_prepender}}/{{ splitted_url_parts[i] }}/{% endcapture -%}
        {%- capture next_prepender %}{{next_prepender}}/{{ splitted_url_parts[i] }}{% endcapture -%}
        {%- for breadcrumb_page in site.documents -%}
            {%- if current_breadcrumb_url == breadcrumb_page.url -%}
                <li>
                    <a{% if current_breadcrumb_url == page.url%} aria-current="page"{%endif%} href="{{current_breadcrumb_url | relative_url}}">{% if breadcrumb_page.breadcrumb_title%}{{breadcrumb_page.breadcrumb_title}}{% else %}{% if breadcrumb_page.nav_title %}{% if breadcumb_page.nav_title == "Overview"%}{{breadcrumb_page.title}}{% else%}{{breadcrumb_page.nav_title}}{% endif %}{%-else-%}{{breadcrumb_page.title}}{% endif %}{% endif %}</a>
                </li>
            {%- endif -%}
        {%- endfor -%}
    {%- endfor -%}
    {%- endif -%}
  </ul>
</nav>
{% if page.ref %}
  {%- if col.docs -%}
    {% assign pages=col.docs | where:"ref", page.ref | sort: 'lang' %}
  {%- else -%}
    {% assign pages=site.pages | where:"ref", page.ref | sort: 'lang' %}
  {%- endif -%}
  {%- for p in pages %}
    {%-if forloop.first -%}
      <nav style="grid-column: 8/10; text-align: right;" aria-label="Languages">
        <button class="showhidebutton button-icon button-small" data-target=".langlist" aria-expanded="false" data-showhidebuttonid="langselect" data-showtext='<svg aria-hidden="true" style="display: inline; margin-right: .5em; height: auto; width: 2.75em; fill: currentColor;" viewBox="2 19 60 26" width="60" height="26" xmlns="http://www.w3.org/2000/svg">
          <path d="M34,27a.988.988,0,0,0-.55-.89L28,23.38V20a1.003,1.003,0,0,0-1-1H3a1.003,1.003,0,0,0-1,1V44a1.003,1.003,0,0,0,1,1H27a1.003,1.003,0,0,0,1-1V30.62l5.45-2.73A.98806.98806,0,0,0,34,27ZM8,27H6V23h4v2H8ZM21.44727,38.89453a1.00046,1.00046,0,0,1-1.3418-.44726L15,28.23633,12.61816,33H15a1,1,0,0,1,0,2H11.61816L9.89453,38.44727a1.00012,1.00012,0,0,1-1.78906-.89454l6-12a1.04127,1.04127,0,0,1,1.78906,0l6,12A1,1,0,0,1,21.44727,38.89453Z"/>
          <path d="M61,19H37a1.003,1.003,0,0,0-1,1V33.38l-5.45,2.73a.99512.99512,0,0,0,0,1.78L36,40.62V44a1.003,1.003,0,0,0,1,1H61a1.003,1.003,0,0,0,1-1V20A1.003,1.003,0,0,0,61,19ZM55.31641,37.05176a.99964.99964,0,1,1-.63282,1.89648,21.753,21.753,0,0,1-5.673-2.94458,14.0016,14.0016,0,0,1-5.76788,2.96607.99963.99963,0,1,1-.48536-1.93946,12.09416,12.09416,0,0,0,4.63227-2.27374A24.40848,24.40848,0,0,1,44.21924,31.625a.99991.99991,0,0,1,1.561-1.25,23.59415,23.59415,0,0,0,3.0951,3.00214A14.64317,14.64317,0,0,0,51.60474,29H43a1,1,0,0,1,0-2h5V26a1,1,0,0,1,2,0v1h5a1,1,0,0,1,0,2H53.7359a16.84476,16.84476,0,0,1-3.26172,5.57977A19.47286,19.47286,0,0,0,55.31641,37.05176ZM58,27H56V25H54V23h4Z"/>
        </svg> Select Language' data-hidetext="Hide Language Selector"><svg aria-hidden="true" style="display: inline; margin-right: .5em; height: auto; width: 2.75em; fill: currentColor;" viewBox="2 19 60 26" width="60" height="26" xmlns="http://www.w3.org/2000/svg">
          <path d="M34,27a.988.988,0,0,0-.55-.89L28,23.38V20a1.003,1.003,0,0,0-1-1H3a1.003,1.003,0,0,0-1,1V44a1.003,1.003,0,0,0,1,1H27a1.003,1.003,0,0,0,1-1V30.62l5.45-2.73A.98806.98806,0,0,0,34,27ZM8,27H6V23h4v2H8ZM21.44727,38.89453a1.00046,1.00046,0,0,1-1.3418-.44726L15,28.23633,12.61816,33H15a1,1,0,0,1,0,2H11.61816L9.89453,38.44727a1.00012,1.00012,0,0,1-1.78906-.89454l6-12a1.04127,1.04127,0,0,1,1.78906,0l6,12A1,1,0,0,1,21.44727,38.89453Z"/>
          <path d="M61,19H37a1.003,1.003,0,0,0-1,1V33.38l-5.45,2.73a.99512.99512,0,0,0,0,1.78L36,40.62V44a1.003,1.003,0,0,0,1,1H61a1.003,1.003,0,0,0,1-1V20A1.003,1.003,0,0,0,61,19ZM55.31641,37.05176a.99964.99964,0,1,1-.63282,1.89648,21.753,21.753,0,0,1-5.673-2.94458,14.0016,14.0016,0,0,1-5.76788,2.96607.99963.99963,0,1,1-.48536-1.93946,12.09416,12.09416,0,0,0,4.63227-2.27374A24.40848,24.40848,0,0,1,44.21924,31.625a.99991.99991,0,0,1,1.561-1.25,23.59415,23.59415,0,0,0,3.0951,3.00214A14.64317,14.64317,0,0,0,51.60474,29H43a1,1,0,0,1,0-2h5V26a1,1,0,0,1,2,0v1h5a1,1,0,0,1,0,2H53.7359a16.84476,16.84476,0,0,1-3.26172,5.57977A19.47286,19.47286,0,0,0,55.31641,37.05176ZM58,27H56V25H54V23h4Z"/>
        </svg> Select Language</button>
        <ul class="langlist" hidden>
    {%- endif -%}
    <li style="display: inline; list-style: none;"><a style="text-transform: capitalize;{% if p.lang == page.lang %} font-weight: bold;{% endif %}" href="{{ p.url | relative_url }}" lang="{{ p.lang }}"{% if p.lang == page.lang %} aria-current="language"{% endif %}>{{ site.data.lang[p.lang].nativeName }}</a></li>
    {%- if forloop.last -%}
        </ul>
      </nav>
    {%- endif -%}
  {% endfor -%}
{% endif %}
</div>
{%- endunless -%}